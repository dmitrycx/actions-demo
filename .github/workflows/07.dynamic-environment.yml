# .github/workflows/07.dynamic-environment.yml
name: Demo 07 - Dynamic Environment

on:
  workflow_dispatch:
    inputs:
      env_name:
        description: 'Environment name to create/use'
        required: true
        default: test-env

jobs:
  hello-env:
    runs-on: ubuntu-latest
    permissions:
      contents: read
      deployments: write

    environment:
      name: ${{ github.event.inputs.env_name }}
      url: https://example.invalid/${{ github.event.inputs.env_name }}

    steps:
      - name: Summarize
        run: |
          echo "Environment name: ${{ github.event.inputs.env_name }}" >> "$GITHUB_STEP_SUMMARY"
          echo "URL: https://example.invalid/${{ github.event.inputs.env_name }}" >> "$GITHUB_STEP_SUMMARY"
